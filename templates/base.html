{% load static tailwind_tags i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <script>
        (function() {
            const theme = localStorage.getItem('theme') || 'bumblebee';
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
    <title>{% block title %}{% trans "Django ATHM - ATH MÃ³vil Payment Integration" %}{% endblock %}</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    {% block meta_tags %}{% endblock %}

    <link rel="icon" type="image/png" href="{% static 'images/logo.png' %}">
    {% tailwind_css %}

    {% block extra_scripts %}{% endblock %}

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    {% block extra_css %}{% endblock %}

    <script async src="https://analytics.kuribosoft.com/js/pa-hiEVQxxH0x5AkmCUQHQlK.js"></script>
    <script>window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};plausible.init()</script>
</head>

<body>
    {% include 'partials/_header.html' %}

    {% block body %}
        {% block content %}{% endblock %}
    {% endblock %}

    {% block footer %}{% endblock %}

    {% include 'partials/_toasts.html' %}

    <script>
        (function() {
            const themeController = document.querySelector('.theme-controller');
            if (themeController) {
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'coffee') {
                    themeController.checked = true;
                }

                themeController.addEventListener('change', function() {
                    const theme = this.checked ? this.value : 'bumblebee';
                    localStorage.setItem('theme', theme);
                    document.documentElement.setAttribute('data-theme', theme);
                });
            }
        })();
    </script>

    {% block extra_js %}{% endblock %}
</body>
</html>
